{"version":3,"file":"scripts/fog.bundle.js","mappings":"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,EAAE;YACrB,MAAM,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE;YACtB,MAAM,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE;YACtB,cAAc,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE;YAC/B,QAAQ,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE;YACxB,WAAW,EAAE,EAAE,KAAK,EAAE,IAAI,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE;SACtD,CAAC;IACN,CAAC;CACJ;AACD,mBAAmB,GAAG,WAAW,CAAC;;;;;;;UC1IlC;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC3BA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UEhDA;UACA;UACA;UACA;UACA","sources":["webpack:///./src/scripts/Fog.ts","webpack:///./src/scripts/FogGfx.ts","webpack:///./src/scripts/shaders/Fog.Shader.ts","webpack:///webpack/bootstrap","webpack:///webpack/runtime/chunk loaded","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///webpack/runtime/jsonp chunk loading","webpack:///webpack/before-startup","webpack:///webpack/startup","webpack:///webpack/after-startup"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FogScene = void 0;\nconst three_1 = require(\"three\");\nconst OrbitControls_js_1 = require(\"three/examples/jsm/controls/OrbitControls.js\");\nconst FogGfx_1 = require(\"./FogGfx\");\nconst tweakpane_1 = require(\"tweakpane\");\n//\nclass FogScene {\n    constructor() {\n        this.elapsedTime = 0;\n        this.fogMovement = true;\n        this.sizes = {\n            width: 0,\n            height: 0\n        };\n        this.addRaycasterPointer = (event) => {\n            this.pointer.x = (event.clientX / window.innerWidth) * 2 - 1;\n            this.pointer.y = -(event.clientY / window.innerHeight) * 2 + 1;\n            this.raycaster.setFromCamera(this.pointer, this.camera);\n        };\n        this.tick = () => {\n            window.requestAnimationFrame(this.tick);\n            this.delta = this.clock.getDelta() * 1000;\n            this.elapsedTime += this.delta;\n            //\n            this.intersects = this.raycaster.intersectObject(this.plane)[0].point;\n            this.fog.soursePosition.set(this.intersects.x, 0.5, this.intersects.z);\n            this.fog.cube.position.set(this.intersects.x, 0.5, this.intersects.z);\n            this.fog.update(this.delta, this.intersects, this.fog.externalForce);\n            //\n            this.fog.material.uniforms.uTime.value = this.elapsedTime;\n            //\n            if (this.sizes.width !== window.innerWidth || this.sizes.height !== window.innerHeight) {\n                this.resize();\n            }\n            this.mapControls.update();\n            this.renderer.render(this.scene, this.camera);\n        };\n        this.init();\n    }\n    ;\n    init() {\n        // Canvas\n        this.canvas = document.querySelector('canvas.webglView');\n        // Scene\n        this.scene = new three_1.Scene();\n        this.scene.background = new three_1.Color('#c7c1b7');\n        // Sizes\n        this.sizes.width = window.innerWidth,\n            this.sizes.height = window.innerHeight;\n        // Camera\n        this.camera = new three_1.PerspectiveCamera(45, this.sizes.width / this.sizes.height, 0.1, 100);\n        this.camera.position.set(3, 4, 2);\n        this.scene.add(this.camera);\n        // Controls\n        this.mapControls = new OrbitControls_js_1.MapControls(this.camera, this.canvas);\n        this.mapControls.enableDamping = true;\n        // Plane\n        let planeGeometry = new three_1.PlaneBufferGeometry(3000, 3000, 1, 1);\n        let planeMaterial = new three_1.MeshBasicMaterial({ color: '#e6a67a' });\n        this.plane = new three_1.Mesh(planeGeometry, planeMaterial);\n        this.plane.rotation.x -= Math.PI / 2;\n        this.scene.add(this.plane);\n        // Renderer\n        this.renderer = new three_1.WebGLRenderer({ canvas: this.canvas });\n        this.renderer.setSize(this.sizes.width, this.sizes.height);\n        this.renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\n        // Resize\n        window.addEventListener('resize', this.resize());\n        this.clock = new three_1.Clock();\n        // Fog\n        let props = {\n            numberOfSprites: 16,\n            height: 1,\n            width: 1,\n            depth: 1,\n            outerColor: '#ff0000',\n            innerColor: '#FFCE00',\n            newPosition: new three_1.Vector3(0, 0.5, 0)\n        };\n        this.fog = new FogGfx_1.FogGfx(new three_1.Color().setHex(+props.outerColor.replace('#', '0x')).getHex(), props.numberOfSprites, props.height, props.width, props.depth);\n        this.animation = new Animation();\n        this.scene.add(this.fog.wrapper);\n        props.newPosition = this.fog.newPosition;\n        // debug fog\n        this.pane = new tweakpane_1.Pane();\n        this.pane.element.parentElement.style['width'] = '330px';\n        const fogParam = this.pane.addFolder({\n            title: 'Fog',\n        });\n        const fogSize = this.pane.addFolder({\n            title: 'Size',\n        });\n        const fogAnimation = this.pane.addFolder({\n            title: 'Animation',\n        });\n        this.mouseMoveFog('click');\n        fogParam.addInput(props, 'outerColor', { view: 'color', alpha: true, label: 'outer color' }).on('change', (ev) => {\n            this.fog.outerColor = ev.value;\n        });\n        fogParam.addInput(props, 'innerColor', { view: 'color', alpha: true, label: 'inner color' }).on('change', (ev) => {\n            this.fog.innerColor = ev.value;\n        });\n        fogAnimation.addInput(this.fog, 'frameDuration', { min: 10, max: 800, label: 'frameDuration' }).on('change', (ev) => {\n            this.fog.frameDuration = ev.value;\n        });\n        fogSize.addInput(this.fog, 'height', { min: 0, max: 5, step: 0.01, label: 'size X' }).on('change', (ev) => {\n            this.fog.height = ev.value;\n            this.fog.generate(this.fog.density, this.fog.height, this.fog.width, this.fog.depth, props.newPosition);\n        });\n        fogSize.addInput(this.fog, 'width', { min: 0, max: 5, step: 0.01, label: 'size Y' }).on('change', (ev) => {\n            this.fog.width = ev.value;\n            this.fog.generate(this.fog.density, this.fog.height, this.fog.width, this.fog.depth, props.newPosition);\n        });\n        fogSize.addInput(this.fog, 'depth', { min: 0, max: 5, step: 0.01, label: 'size Z' }).on('change', (ev) => {\n            this.fog.depth = ev.value;\n            this.fog.generate(this.fog.density, this.fog.height, this.fog.width, this.fog.depth, props.newPosition);\n        });\n        fogParam.addInput(this.fog, 'density', { min: 3, max: 1000, step: 1, label: 'density' }).on('change', (ev) => {\n            this.fog.density = ev.value;\n            this.fog.generate(this.fog.density, this.fog.height, this.fog.width, this.fog.depth, props.newPosition);\n        });\n        fogAnimation.addInput(this.fog, 'speedSizeChange', { min: 0, max: 0.5, step: 0.001, label: 'growth speed' }).on('change', (ev) => {\n            this.fog.speedSizeChange = ev.value;\n        });\n        fogSize.addInput(this.fog, 'coordEpearingParticle', { min: 0, max: 1, step: 0.001, label: 'circle of appearance' }).on('change', (ev) => {\n            this.fog.coordEpearingParticle = ev.value;\n        });\n        fogAnimation.addInput(this.fog, 'opacityCoef', { min: 0, max: 0.03, step: 0.001, label: 'fade' }).on('change', (ev) => {\n            this.fog.opacityCoef = ev.value;\n        });\n        fogParam.addInput(this.fog, 'cubeVisibility', { label: 'bounding box' }).on('change', (ev) => {\n            if (!ev.value) {\n                this.fog.wrapper.remove(this.fog.cube);\n            }\n            if (ev.value) {\n                this.fog.wrapper.add(this.fog.cube);\n            }\n        });\n        fogParam.addInput(this, 'fogMovement', { label: 'mouse follow' }).on('change', (ev) => {\n            if (ev.value) {\n                let movementProp = 'mousemove';\n                this.canvas.removeEventListener('click', this.addRaycasterPointer);\n                this.mouseMoveFog(movementProp);\n            }\n            else {\n                let movementProp = 'click';\n                this.canvas.removeEventListener('mousemove', this.addRaycasterPointer);\n                this.mouseMoveFog(movementProp);\n            }\n        });\n        fogParam.addInput(this.fog.material.uniforms.uOpacity, 'value', { min: 0, max: 0.9, step: 0.001, label: 'opacity' });\n        fogSize.addInput(this.fog.externalForce, 'x', { min: -20, max: 20, step: 0.1, label: 'external force X' }).on('change', (ev) => {\n            this.fog.externalForce.x = ev.value;\n        });\n        fogSize.addInput(this.fog.externalForce, 'y', { min: -20, max: 20, step: 0.1, label: 'external force Y' }).on('change', (ev) => {\n            this.fog.externalForce.y = ev.value;\n        });\n        fogSize.addInput(this.fog.externalForce, 'z', { min: -20, max: 20, step: 0.1, label: 'external force Z' }).on('change', (ev) => {\n            this.fog.externalForce.z = ev.value;\n        });\n        //\n        this.tick();\n    }\n    ;\n    mouseMoveFog(movementProp) {\n        // Raycaster\n        this.raycaster = new three_1.Raycaster();\n        this.pointer = new three_1.Vector2();\n        this.canvas.addEventListener(movementProp, this.addRaycasterPointer);\n    }\n    ;\n    resize() {\n        this.sizes.width = window.innerWidth;\n        this.sizes.height = window.innerHeight;\n        this.camera.aspect = this.sizes.width / this.sizes.height;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(this.sizes.width, this.sizes.height);\n        this.renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\n    }\n    ;\n}\nexports.FogScene = FogScene;\nexports.default = new FogScene();\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FogGfx = void 0;\nconst three_3 = require(\"three\");\nconst Fog_Shader_1 = require(\"./shaders/Fog.Shader\");\n//\nclass FogGfx {\n    //\n    constructor(color, numberOfSprites, height, width, depth) {\n        this.numberOfSprites = 60;\n        this.height = 1;\n        this.width = 1;\n        this.depth = 1;\n        this.density = 105;\n        this.velocity = [];\n        this.positions = [];\n        this.randomPos = (Math.random() - 0.5) * 2;\n        this.speedSizeChange = 0.137;\n        this.coordEpearingParticle = 0.3;\n        this.opacityCoef = 0.00999;\n        this.wrapper = new three_3.Object3D();\n        this.newPosition = new three_3.Vector3(0, 0.5, 0);\n        this.soursePosition = new three_3.Vector3(0, 0.5, 0);\n        this.cubeVisibility = true;\n        this.sizeCoef = 0.1;\n        this.externalForce = new three_3.Vector3(0, 0, 0);\n        this._frameDuration = 300;\n        this.height = height;\n        this.width = width;\n        this.depth = depth;\n        this.numberOfSprites = numberOfSprites;\n        // create fog\n        this.material = new Fog_Shader_1.FogMaterial();\n        this.material.side = three_3.DoubleSide;\n        this.material.uniforms.uColor.value.setHex(color);\n        this.material.uniforms.uFrameDuration.value = this._frameDuration;\n        this.generate(this.density, this.height, this.width, this.depth, this.newPosition);\n    }\n    ;\n    generate(density, height, width, depth, newPosition) {\n        const boxGeometry = new three_3.BoxGeometry(1, 1, 1);\n        const boxMaterial = new three_3.MeshBasicMaterial({ color: 0x00ff00 });\n        boxMaterial.wireframe = true;\n        if (!this.cube) {\n            this.cube = new three_3.Mesh(boxGeometry, boxMaterial);\n            this.wrapper.add(this.cube);\n        }\n        if (this.mesh) {\n            this.geometry.dispose();\n            boxGeometry.dispose();\n            this.wrapper.remove(this.mesh);\n        }\n        this.newPosition.x = newPosition.x;\n        this.newPosition.y = newPosition.y;\n        this.newPosition.z = newPosition.z;\n        this.height = height;\n        this.width = width;\n        this.depth = depth;\n        let fogPointPosition = new three_3.Vector3(0, 0, 0);\n        this.numberOfSprites = density * height * width * depth;\n        let size = [], uv, offsetFrame = [], sizeIncrease = [], opacityDecrease = [], color = [];\n        const transformRow1 = [];\n        const transformRow2 = [];\n        const transformRow3 = [];\n        const transformRow4 = [];\n        for (let i = 0; i < this.numberOfSprites; i++) {\n            let x = (Math.random() - 0.5) * width;\n            let y = Math.random() * height;\n            let z = (Math.random() - 0.5) * depth;\n            let distanceX = fogPointPosition.x - x;\n            let distanceY = y - fogPointPosition.y;\n            let distanceZ = fogPointPosition.z - z;\n            if (Math.abs(distanceX) > width / 2.5 - Math.random() - 0.5) {\n                distanceX -= Math.random() - 0.5;\n            }\n            if (Math.abs(distanceY) > height / 2.5 - Math.random() - 0.5) {\n                distanceY -= Math.random() - 0.5;\n            }\n            if (Math.abs(distanceZ) > depth / 2.5 - Math.random() - 0.5) {\n                distanceZ -= Math.random() - 0.5;\n            }\n            let scaleX = 1;\n            let scaleY = 1;\n            let scaleZ = 1;\n            const rotationX = 0;\n            const rotationY = 0;\n            const rotationZ = 0;\n            let transformMatrix = new three_3.Matrix4().compose(new three_3.Vector3(distanceX, distanceY, distanceZ), new three_3.Quaternion().setFromEuler(new three_3.Euler(rotationX, rotationY, rotationZ)), new three_3.Vector3(scaleX, scaleY, scaleZ)).toArray();\n            transformRow1.push(transformMatrix[0], transformMatrix[1], transformMatrix[2], transformMatrix[3]);\n            transformRow2.push(transformMatrix[4], transformMatrix[5], transformMatrix[6], transformMatrix[7]);\n            transformRow3.push(transformMatrix[8], transformMatrix[9], transformMatrix[10], transformMatrix[11]);\n            transformRow4.push(transformMatrix[12], transformMatrix[13], transformMatrix[14], transformMatrix[15]);\n            size.push(Math.random());\n            sizeIncrease.push(Math.random() * 0.02);\n            opacityDecrease.push(Math.random());\n            this.velocity.push((Math.random() - 0.5) * 2 / 100, (Math.random() - 0.5) * 2 / 100, (Math.random() - 0.5) * 2 / 100);\n            offsetFrame.push(Math.floor(Math.random() * 50 * 16));\n        }\n        this.positions = [\n            -1.0, -1.0, 0.0,\n            1.0, -1.0, 0.0,\n            1.0, 1.0, 0.0,\n            1.0, 1.0, 0.0,\n            -1.0, 1.0, 0.0,\n            -1.0, -1.0, 0.0\n        ];\n        uv = [\n            0, 0,\n            1, 0,\n            1, 1,\n            1, 1,\n            0, 1,\n            0, 0\n        ];\n        this.geometry = new three_3.InstancedBufferGeometry();\n        this.geometry.setAttribute('position', new three_3.Float32BufferAttribute(this.positions, 3));\n        this.geometry.setAttribute('uv', new three_3.Float32BufferAttribute(uv, 2));\n        this.geometry.setAttribute('transformRow1', new three_3.InstancedBufferAttribute(new Float32Array(transformRow1), 4));\n        this.geometry.setAttribute('transformRow2', new three_3.InstancedBufferAttribute(new Float32Array(transformRow2), 4));\n        this.geometry.setAttribute('transformRow3', new three_3.InstancedBufferAttribute(new Float32Array(transformRow3), 4));\n        this.geometry.setAttribute('transformRow4', new three_3.InstancedBufferAttribute(new Float32Array(transformRow4), 4));\n        this.geometry.setAttribute('offsetFrame', new three_3.InstancedBufferAttribute(new Float32Array(offsetFrame), 1));\n        this.geometry.setAttribute('velocity', new three_3.InstancedBufferAttribute(new Float32Array(this.velocity), 3));\n        this.geometry.setAttribute('opacityDecrease', new three_3.InstancedBufferAttribute(new Float32Array(opacityDecrease), 1));\n        this.geometry.setAttribute('size', new three_3.InstancedBufferAttribute(new Float32Array(size), 1));\n        this.mesh = new three_3.Mesh(this.geometry, this.material);\n        this.wrapper.add(this.mesh);\n    }\n    ;\n    update(delta, intersects, externalForce) {\n        for (let i = 0; i < this.numberOfSprites; i++) {\n            const newSize = this.geometry.attributes.size.getX(i) + this.speedSizeChange * this.sizeCoef;\n            this.geometry.attributes.size.setX(i, newSize);\n            let velosityX = this.geometry.attributes.velocity.getX(i);\n            let velosityY = this.geometry.attributes.velocity.getY(i);\n            let velosityZ = this.geometry.attributes.velocity.getZ(i);\n            let newPosX = this.geometry.attributes.transformRow4.getX(i);\n            let newPosY = this.geometry.attributes.transformRow4.getY(i);\n            let newPosZ = this.geometry.attributes.transformRow4.getZ(i);\n            let velosityAccelerationX = (intersects.x - newPosX + externalForce.x) / 200;\n            let velosityAccelerationY = (intersects.y - newPosY + externalForce.y) / 200;\n            ;\n            let velosityAccelerationZ = (intersects.z - newPosZ + externalForce.z) / 200;\n            const newOpacity = this.geometry.attributes.opacityDecrease.getX(i) - this.opacityCoef;\n            this.geometry.attributes.opacityDecrease.setX(i, newOpacity);\n            newPosX += ((velosityX + velosityAccelerationX * newOpacity) * delta) / 16;\n            newPosY += ((velosityY + velosityAccelerationY * newOpacity) * delta) / 16;\n            newPosZ += ((velosityZ + velosityAccelerationZ * newOpacity) * delta) / 16;\n            if (newOpacity <= 0.001) {\n                newPosX = (Math.random() - 0.5) * this.coordEpearingParticle + this.soursePosition.x;\n                newPosY = (Math.random() - 0.5) * this.coordEpearingParticle + this.soursePosition.y;\n                newPosZ = (Math.random() - 0.5) * this.coordEpearingParticle + this.soursePosition.z;\n                this.geometry.attributes.size.setX(i, 0);\n                this.geometry.attributes.opacityDecrease.setX(i, 1);\n            }\n            this.geometry.attributes.transformRow4.setX(i, newPosX);\n            this.geometry.attributes.transformRow4.setY(i, newPosY);\n            this.geometry.attributes.transformRow4.setZ(i, newPosZ);\n        }\n        this.geometry.attributes.opacityDecrease.needsUpdate = true;\n        this.geometry.attributes.size.needsUpdate = true;\n        this.geometry.attributes.transformRow4.needsUpdate = true;\n    }\n    ;\n    //\n    get frameDuration() {\n        return this._frameDuration;\n    }\n    ;\n    set frameDuration(frameDuration) {\n        this.material.uniforms.uFrameDuration.value = frameDuration;\n        this._frameDuration = this.material.uniforms.uFrameDuration.value;\n    }\n    ;\n    get outerColor() {\n        return this._outerColor;\n    }\n    ;\n    set outerColor(color) {\n        this._outerColor = color;\n        if (typeof color === 'string') {\n            this.material.uniforms.uColor.value.setHex(parseInt(color.replace('#', '0x')));\n        }\n        else {\n            this.material.uniforms.uColor.value.setHex(color);\n        }\n    }\n    ;\n    get innerColor() {\n        return this._innerColor;\n    }\n    ;\n    set innerColor(color) {\n        this._innerColor = color;\n        if (typeof color === 'string') {\n            this.material.uniforms.uInnerColor.value.setHex(parseInt(color.replace('#', '0x')));\n        }\n        else {\n            this.material.uniforms.uInnerColor.value.setHex(color);\n        }\n    }\n    ;\n}\nexports.FogGfx = FogGfx;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FogMaterial = void 0;\nconst three_5 = require(\"three\");\n// import FogScene from '../index';\nlet randomnum = Math.random();\nconst textureLoader = new three_5.TextureLoader();\nconst fogTexture = textureLoader.load('resources/textures/fog1.png');\nconst noise = textureLoader.load('resources/textures/tNoise.png');\nclass FogMaterial extends three_5.ShaderMaterial {\n    constructor() {\n        super();\n        this.vertexShader = `\n            attribute vec4 transformRow1;\n            attribute vec4 transformRow2;\n            attribute vec4 transformRow3;\n            attribute vec4 transformRow4;\n            attribute float offsetFrame;\n            attribute float size;\n            attribute vec3 velocity;\n            attribute float opacityDecrease;\n\n            varying vec2 vUv;\n            varying float vOffsetFrame;\n            varying float vCurrentFrameId;\n            varying float vNextFrameId;\n            varying float vOpacityDecrease;\n            varying float vOpacity;\n            varying vec3 vPosition;\n\n            uniform float uRandomNum;\n            uniform sampler2D uNoise;\n            uniform float uTime;\n            uniform float uFrameDuration;\n            uniform float uOpacity;\n\n            void main() {\n\n                float numOfFrames = 16.0;\n\n                float currentFrameId = mod( floor( mod( uTime + offsetFrame, numOfFrames * uFrameDuration ) / uFrameDuration ), numOfFrames );\n\n                float nextFrameId;\n                if ( currentFrameId == numOfFrames - 1.0 ) {\n\n                    nextFrameId = 0.0;\n\n                } else {\n\n                    nextFrameId = currentFrameId + 1.0;\n\n                }\n\n                mat4 transforms = mat4(\n                    transformRow1,\n                    transformRow2,\n                    transformRow3,\n                    transformRow4\n                );\n\n                gl_Position = projectionMatrix * ( modelViewMatrix * transforms * vec4(0.0, 0.0, 0.0, 1.0) + vec4( position * size, 1.0 ) );\n\n                vUv = uv;\n                vOffsetFrame = offsetFrame;\n                vNextFrameId = nextFrameId;\n                vCurrentFrameId  = currentFrameId;\n                vOpacityDecrease = opacityDecrease;\n                vOpacity = uOpacity;\n                vPosition = transformRow4.xyz;\n\n            }\n        `;\n        this.depthWrite = false;\n        this.transparent = true;\n        // this.wireframe = true;\n        this.fragmentShader = `\n            varying vec2 vUv;\n            varying float vOffsetFrame;\n            varying float vCurrentFrameId;\n            varying float vNextFrameId;\n            varying float vOpacityDecrease;\n            varying float vOpacity;\n            varying vec3 vPosition;\n\n            uniform sampler2D uPointTexture;\n            uniform float alphaTest;\n            uniform vec3 uColor;\n            uniform float uTime;\n            uniform float uFrameDuration;\n            uniform vec3 uInnerColor;\n\n            void main() {\n\n                gl_FragColor = vec4( uColor, 0.04 );\n\n                //\n\n                vec4 offsets;\n\n                offsets.y = floor( vCurrentFrameId / 4.0 ) * 0.25;\n                offsets.x = mod( vCurrentFrameId, 4.0 ) * 0.25;\n\n                offsets.w = floor( vNextFrameId / 4.0 ) * 0.25;\n                offsets.z = mod( vNextFrameId, 4.0 ) * 0.25;\n\n                //\n\n                vec4 texture1 = texture2D( uPointTexture, vec2( vUv.x * 0.25 + offsets.x, vUv.y * 0.25 + offsets.y ) );\n                vec4 texture2 = texture2D( uPointTexture, vec2( vUv.x * 0.25 + offsets.z, vUv.y * 0.25 + offsets.w ) );\n\n                float fragmentTime = mod( uTime + vOffsetFrame, uFrameDuration ) / uFrameDuration;\n\n                gl_FragColor = mix( texture1, texture2, fragmentTime );\n                vec3 finalColor = uColor;\n\n                finalColor = mix( uColor, uInnerColor, step( 0.3, vOpacityDecrease ) * vOpacityDecrease );\n\n                gl_FragColor *= vec4( finalColor, vOpacityDecrease * vOpacity );\n\n                if ( gl_FragColor.a < alphaTest ) discard;\n\n            }\n        `;\n        this.uniforms = {\n            uRandomNum: { value: randomnum },\n            uPointTexture: { value: fogTexture },\n            uNoise: { value: noise },\n            alphaTest: { value: 0.0001 },\n            uColor: { value: new three_5.Color(0x1A75FF) },\n            uTime: { value: 0.0 },\n            uTimeX: { value: 0.0 },\n            uTimeY: { value: 0.0 },\n            uFrameDuration: { value: 16.0 },\n            uOpacity: { value: 0.9 },\n            uInnerColor: { value: new three_5.Color(0xFFCE00) }\n        };\n    }\n}\nexports.FogMaterial = FogMaterial;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"scripts/fog\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunklive_city\"] = self[\"webpackChunklive_city\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/scripts/Fog.ts\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":[],"sourceRoot":""}